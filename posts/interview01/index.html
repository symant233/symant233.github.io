<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="é‡åˆ°çš„é¢è¯•é¢˜01"><meta name="keywords" content="interview"><meta name="author" content="symant233"><meta name="copyright" content="symant233"><title>é‡åˆ°çš„é¢è¯•é¢˜01 | symant's blog</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#part1"><span class="toc-number">1.</span> <span class="toc-text">part1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#part2"><span class="toc-number">2.</span> <span class="toc-text">part2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#part3"><span class="toc-number">3.</span> <span class="toc-text">part3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#part4"><span class="toc-number">4.</span> <span class="toc-text">part4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#part5"><span class="toc-number">5.</span> <span class="toc-text">part5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#part6"><span class="toc-number">6.</span> <span class="toc-text">part6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#part7"><span class="toc-number">7.</span> <span class="toc-text">part7</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/images/avatar.jpg"></div><div class="author-info__name text-center">symant233</div><div class="author-info__description text-center">åŒ—äº¬çš„ä¸€æšåœ¨æ ¡å¤§å­¦ç”Ÿ, è¯·å¤šå…³ç…§.</div><div class="follow-button"><a href="mailto:recieve#outlook.jp">Mail to me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">9</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">9</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">4</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" href="https://molunerfinn.com">Molunerfinn</a><a class="author-info-links__name text-center" href="https://hexo.io">hexo</a><a class="author-info-links__name text-center" href="/slides">slides</a><a class="author-info-links__name text-center" href="/custom/via.html">via</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/images/banner.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">symant's blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/about">About</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">é‡åˆ°çš„é¢è¯•é¢˜01</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-07-10</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/interview/">interview</a><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">3.4k</span><span class="post-meta__separator">|</span><span>Reading time: 12 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h3 id="part1"><a href="#part1" class="headerlink" title="part1"></a>part1</h3><p><strong>1. http header</strong> method æœ‰å“ªäº›<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers" target="_blank" rel="noopener">MDN</a></p>
<p><strong>é€šç”¨é¦–éƒ¨</strong> (General header): åŒæ—¶é€‚ç”¨äºè¯·æ±‚å’Œå“åº”æ¶ˆæ¯ï¼Œä½†ä¸æœ€ç»ˆæ¶ˆæ¯ä¸»ä½“ä¸­ä¼ è¾“çš„æ•°æ®æ— å…³çš„æ¶ˆæ¯å¤´ã€‚</p>
<ul>
<li><code>Connection</code>: å†³å®šå½“å‰çš„äº‹åŠ¡å®Œæˆåï¼Œæ˜¯å¦ä¼šå…³é—­ç½‘ç»œè¿æ¥ã€‚å¦‚æœè¯¥å€¼æ˜¯â€œkeep-aliveâ€ï¼Œç½‘ç»œè¿æ¥å°±æ˜¯æŒä¹…çš„ï¼Œä¸ä¼šå…³é—­ï¼Œä½¿å¾—å¯¹åŒä¸€ä¸ªæœåŠ¡å™¨çš„è¯·æ±‚å¯ä»¥ç»§ç»­åœ¨è¯¥è¿æ¥ä¸Šå®Œæˆã€‚</li>
<li><code>Date</code>: é€šç”¨é¦–éƒ¨ï¼Œå…¶ä¸­åŒ…å«äº†æŠ¥æ–‡åˆ›å»ºçš„æ—¥æœŸå’Œæ—¶é—´ã€‚</li>
<li><code>Cache-Control</code>: é€šè¿‡æŒ‡å®šæŒ‡ä»¤æ¥å®ç°ç¼“å­˜æœºåˆ¶ã€‚è¯¦ç»†å‚è€ƒ<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control" target="_blank" rel="noopener">é“¾æ¥</a> âœ”</li>
</ul>
<p><strong>è¯·æ±‚å¤´</strong>(Request headers): åŒ…å«æ›´å¤šæœ‰å…³è¦è·å–çš„èµ„æºæˆ–å®¢æˆ·ç«¯æœ¬èº«ä¿¡æ¯çš„æ¶ˆæ¯å¤´ã€‚æŸäº›è¯·æ±‚å¤´å¦‚ <code>Accept</code>ã€<code>Accept-*</code>ã€ <code>If-*</code> å…è®¸æ‰§è¡Œæ¡ä»¶è¯·æ±‚ã€‚</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">GET /home.html HTTP/1.1</span><br><span class="line">Host: developer.mozilla.org</span><br><span class="line">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:50.0) Firefox/50.0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class="line">Accept-Language: en-US,en;q=0.5</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Referer: https://developer.mozilla.org/testpage.html</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Cookie: name=value; name2=value2; name3=value3</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">If-Modified-Since: Mon, 18 Jul 2016 02:36:04 GMT</span><br><span class="line">If-None-Match: &quot;c561c68d0ba92bbeb8b0fff2a9199f722e3a621a&quot;</span><br><span class="line">Cache-Control: max-age=0</span><br></pre></td></tr></table></figure>
<p><code>Accept</code>: ç”¨æˆ·ä»£ç†æœŸæœ›çš„ MIME ç±»å‹åˆ—è¡¨. <code>Accept-Encoding</code>: åˆ—å‡ºç”¨æˆ·ä»£ç†æ”¯æŒçš„å‹ç¼©æ–¹æ³•ã€‚<br><code>DNT</code>: è®¾ç½®è¯¥å€¼ä¸º 1ï¼Œè¡¨æ˜ç”¨æˆ·æ˜ç¡®é€€å‡ºä»»ä½•å½¢å¼çš„ç½‘ä¸Šè·Ÿè¸ª(Do Not Track)ã€‚</p>
<p><code>Referer</code>: åŒ…å«äº†å½“å‰è¯·æ±‚çš„æ¥æºé¡µé¢çš„åœ°å€. åœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¸‹ï¼Œ<code>Referer</code> ä¸ä¼šè¢«å‘é€ï¼š</p>
<p>1, æ¥æºé¡µé¢é‡‡ç”¨çš„åè®®ä¸ºè¡¨ç¤ºæœ¬åœ°æ–‡ä»¶çš„ â€œfileâ€ æˆ–è€… â€œdataâ€ URIï¼›<br>2, å½“å‰è¯·æ±‚é¡µé¢é‡‡ç”¨çš„æ˜¯éå®‰å…¨åè®®ï¼Œè€Œæ¥æºé¡µé¢é‡‡ç”¨çš„æ˜¯å®‰å…¨åè®®ï¼ˆHTTPSï¼‰ã€‚</p>
<p><strong>å“åº”å¤´</strong>(Response headers): åŒ…å«æœ‰å…³å“åº”çš„è¡¥å……ä¿¡æ¯.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">200 OK</span><br><span class="line">Access-Control-Allow-Origin: *</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Content-Encoding: gzip</span><br><span class="line">Content-Type: text/html; charset=utf-8</span><br><span class="line">Date: Mon, 18 Jul 2016 16:06:00 GMT</span><br><span class="line">Etag: &quot;c561c68d0ba92bbeb8b0f612a9199f722e3a621a&quot;</span><br><span class="line">Keep-Alive: timeout=5, max=997</span><br><span class="line">Last-Modified: Mon, 18 Jul 2016 02:36:04 GMT</span><br><span class="line">Server: Apache</span><br><span class="line">Set-Cookie: mykey=myvalue; expires=Mon, 17-Jul-2017 16:06:00 GMT; Max-Age=31449600; Path=/; secure</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line">Vary: Cookie, Accept-Encoding</span><br><span class="line">X-Backend-Server: developer2.webapp.scl3.mozilla.com</span><br></pre></td></tr></table></figure>
<p><code>ETag</code>: èµ„æºçš„ç‰¹å®šç‰ˆæœ¬çš„æ ‡è¯†ç¬¦ã€‚è¿™å¯ä»¥è®©ç¼“å­˜æ›´é«˜æ•ˆï¼Œå¹¶èŠ‚çœå¸¦å®½ï¼Œå› ä¸ºå¦‚æœå†…å®¹æ²¡æœ‰æ”¹å˜ï¼ŒWeb æœåŠ¡å™¨ä¸éœ€è¦å‘é€å®Œæ•´çš„å“åº”ã€‚</p>
<p><strong>å®ä½“æŠ¥å¤´</strong>(Entity headers): æè¿°æ¶ˆæ¯ä½“å†…å®¹ã€‚å¦‚<code>Content-Length</code>ï¼Œ<code>Content-Language</code>ï¼Œ<code>Content-Encoding</code>.</p>
<p><strong>2. content-type</strong> ç”¨äºæŒ‡ç¤ºèµ„æºçš„ MIME ç±»å‹ <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types" target="_blank" rel="noopener">media type</a></p>
<p><code>text/plain, text/html, text/javascript, application/json, image/jpeg, multipart/form-data</code> â€¦</p>
<p><strong>3. tcp åè®®</strong> ä¸‰æ¬¡æ¡æ‰‹ <a href="https://zhuanlan.zhihu.com/p/58603455" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/58603455</a></p>
<p><img src="https://user-gold-cdn.xitu.io/2020/7/4/1731a1aad67c42a1?w=720&amp;h=409&amp;f=jpeg&amp;s=32374" alt></p>
<p><strong>4. node.js å¤šä¸ªè¿›ç¨‹ç›‘å¬åŒä¸€ä¸ªç«¯å£</strong> æ²¡æ‰¾åˆ°..</p>
<p><strong>5. node.js æ¨¡å—</strong>æŸ¥æ‰¾æœºåˆ¶ é¡ºåº<br><a href="https://juejin.im/post/5e02316a6fb9a016280140b1#heading-5" target="_blank" rel="noopener">å‚è€ƒ</a></p>
<ul>
<li>æ ¸å¿ƒæ¨¡å—(å†…ç½®æ¨¡å—): åœ¨ Node è¿›ç¨‹å¼€å§‹çš„æ—¶å€™å°±é¢„åŠ è½½äº†</li>
<li>è‡ªå®šä¹‰æ¨¡å—: npm ä¸Šçš„ç¬¬ä¸‰æ–¹æ¨¡å—æˆ–è‡ªå·±å†™çš„ js æ¨¡å—</li>
</ul>
<p>ç»™å®šçš„è·¯å¾„å¯ä»¥æ˜¯çœå»<code>.js</code>åç¼€çš„æ–‡ä»¶å, å¦‚æœæ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹, åœ¨æ–‡ä»¶å¤¹æ²¡æœ‰<code>package.json</code>æŒ‡å®šå…¥å£çš„æƒ…å†µä¸‹å¯¼å…¥<code>index.js</code>. å¦‚æœç»™å®šçš„ä¸æ˜¯è·¯å¾„è€Œæ˜¯ç¬¬ä¸‰æ–¹åŒ…å, åˆ™ä¼šå…ˆåœ¨å½“å‰ç›®å½•ä¸‹çš„<code>node_modules</code>ä¸‹æŸ¥æ‰¾, å¦‚æœæ²¡æ‰¾åˆ°åˆ™ä¼šåˆ°ä¸Šä¸€çº§ç›®å½•ä¸‹çš„<code>node_modules</code>é‡Œæ‰¾, ä¸€ç›´åˆ°æ ¹ç›®å½•.</p>
<p>å¯¼å…¥æœ‰ç¼“å­˜, å¯¼å…¥æ—¶ä¼šå…ˆåˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨äºå†…å­˜ç¼“å­˜ä¸­, å­˜åœ¨å°±ä¸ä¼šå†å¯¼å…¥.</p>
<p>å…¶ä»–: å¯¼å…¥æ—¶è‹¥å‚æ•°æ²¡æœ‰æ–‡ä»¶æ‰©å±•åï¼Œä¼šæŒ‰<code>.jsã€.jsonã€.node</code>çš„é¡ºå¯»è¡¥è¶³æ‰©å±•åï¼Œä¾æ¬¡å°è¯•ã€‚</p>
<p><strong>6. koa</strong> æœ‰å“ªäº›æŠ½è±¡å¯¹è±¡ application ä¸­é—´ä»¶æœºåˆ¶ - æ´‹è‘±æ¨¡å‹</p>
<ul>
<li>context (ctx) å¯¹è±¡: è¡¨ç¤ºä¸€æ¬¡å¯¹è¯çš„ä¸Šä¸‹æ–‡(åŒ…æ‹¬<code>request</code>å’Œ<code>response</code>)ã€‚é€šè¿‡åŠ å·¥è¿™ä¸ªå¯¹è±¡ï¼Œå°±å¯ä»¥æ§åˆ¶è¿”å›ç»™ç”¨æˆ·çš„å†…å®¹ã€‚<a href="https://www.npmjs.com/package/koa#context-request-and-response" target="_blank" rel="noopener">docs</a></li>
<li>ä¸­é—´ä»¶(middleware): åŒæ­¥/å¼‚æ­¥ä¸­é—´ä»¶ è°ƒç”¨<code>next()</code>äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶. <a href="https://www.npmjs.com/package/koa#middleware" target="_blank" rel="noopener">docs</a></li>
</ul>
<h3 id="part2"><a href="#part2" class="headerlink" title="part2"></a>part2</h3><p><strong>1. html çš„ç¼“å­˜å¦‚ä½•è®¾ç½®</strong><br>http ç¼“å­˜ä¸»è¦åœ¨å“åº”å¤´ä¸­è®¾å®š:</p>
<ul>
<li><code>Cache-Control</code>: é€šè¿‡æŒ‡å®šæŒ‡ä»¤æ¥å®ç°ç¼“å­˜æœºåˆ¶ã€‚è¯¦ç»†å‚è€ƒ<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control" target="_blank" rel="noopener">é“¾æ¥</a> âœ”</li>
<li><code>Expires</code>: å“åº”å¤´åŒ…å«æ—¥æœŸ/æ—¶é—´ï¼Œ å³åœ¨æ­¤æ—¶å€™ä¹‹åï¼Œå“åº”è¿‡æœŸã€‚å¦‚æœåœ¨ Cache-Control å“åº”å¤´è®¾ç½®äº† â€œmax-ageâ€ æˆ–è€… â€œs-max-ageâ€ æŒ‡ä»¤ï¼Œé‚£ä¹ˆ Expires å¤´ä¼šè¢«å¿½ç•¥ã€‚</li>
<li><code>Etag</code>: ç¼“å­˜æœªæ›´æ”¹çš„èµ„æºã€‚å¦‚æœç”¨æˆ·å†æ¬¡è®¿é—®ç»™å®šçš„ URLï¼ˆè®¾æœ‰ ETag å­—æ®µï¼‰ï¼Œæ˜¾ç¤ºèµ„æºè¿‡æœŸäº†ä¸”ä¸å¯ç”¨ï¼Œå®¢æˆ·ç«¯å°±å‘é€å€¼ä¸º ETag çš„ <code>If-None-Match</code> çš„ header å­—æ®µ. æœåŠ¡å™¨å°†å®¢æˆ·ç«¯çš„ ETagï¼ˆä½œä¸º If-None-Match å­—æ®µçš„å€¼ä¸€èµ·å‘é€ï¼‰ä¸å…¶å½“å‰ç‰ˆæœ¬çš„èµ„æºçš„ ETag è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸¤ä¸ªå€¼åŒ¹é…ï¼ˆå³èµ„æºæœªæ›´æ”¹ï¼‰ï¼ŒæœåŠ¡å™¨å°†è¿”å›ä¸å¸¦ä»»ä½•å†…å®¹çš„ 304 æœªä¿®æ”¹çŠ¶æ€ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯ç¼“å­˜ç‰ˆæœ¬å¯ç”¨ï¼ˆæ–°é²œï¼‰ã€‚</li>
<li><code>Last-Modified</code>: å“åº”é¦–éƒ¨ï¼Œå…¶ä¸­åŒ…å«æºå¤´æœåŠ¡å™¨è®¤å®šçš„èµ„æºåšå‡ºä¿®æ”¹çš„æ—¥æœŸåŠæ—¶é—´ã€‚ å®ƒé€šå¸¸è¢«ç”¨ä½œä¸€ä¸ªéªŒè¯å™¨æ¥åˆ¤æ–­æ¥æ”¶åˆ°çš„æˆ–è€…å­˜å‚¨çš„èµ„æºæ˜¯å¦å½¼æ­¤ä¸€è‡´ã€‚ç”±äºç²¾ç¡®åº¦æ¯” ETag è¦ä½ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªå¤‡ç”¨æœºåˆ¶ã€‚åŒ…å«æœ‰ If-Modified-Since æˆ– If-Unmodified-Since é¦–éƒ¨çš„æ¡ä»¶è¯·æ±‚ä¼šä½¿ç”¨è¿™ä¸ªå­—æ®µã€‚</li>
</ul>
<p>Etag å¦‚ä½•ç”Ÿæˆçš„? <a href="https://www.cnblogs.com/xianwang/p/12019830.html" target="_blank" rel="noopener">å‚è€ƒ</a></p>
<p><strong>2. http å¼ºç¼“å­˜ã€åå•†ç¼“å­˜</strong> <a href="https://www.cnblogs.com/wonyun/p/5524617.html" target="_blank" rel="noopener">å‚è€ƒ</a>âœ”</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/7/9/17332a3185892c7d?w=554&amp;h=528&amp;f=png&amp;s=42440" alt></p>
<table>
<thead>
<tr>
<th></th>
<th>è·å–èµ„æºå½¢å¼</th>
<th>çŠ¶æ€ç </th>
<th>æ˜¯å¦å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¼ºç¼“å­˜</td>
<td>ä»ç¼“å­˜å–</td>
<td>200ï¼ˆfrom memory/disk cacheï¼‰</td>
<td>å¦ï¼Œç›´æ¥ä»ç¼“å­˜è·å–</td>
</tr>
<tr>
<td>åå•†ç¼“å­˜</td>
<td>ä»ç¼“å­˜å–</td>
<td>304ï¼ˆnot modifiedï¼‰</td>
<td>æ˜¯ï¼Œé€šè¿‡æœåŠ¡å™¨æ¥åˆ¤æ–­ç¼“å­˜æ˜¯å¦å¯ç”¨</td>
</tr>
</tbody>
</table>
<p>å¦‚æœæ˜¯ 200 OK ï¼Œå“åº”ä¼šå¸¦æœ‰å¤´éƒ¨<code>Cache-Control, Content-Location, Date, ETag, Expires</code> å’Œ <code>Vary</code>. <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/304" target="_blank" rel="noopener">MDN: 304 Not Modified</a></p>
<h3 id="part3"><a href="#part3" class="headerlink" title="part3"></a>part3</h3><p><strong>1. js æ•°æ®ç±»å‹ï¼Œå¦‚ä½•åŒºåˆ†</strong> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Grammar_and_Types#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%B1%BB%E5%9E%8B" target="_blank" rel="noopener">MDN:æ•°æ®ç»“æ„å’Œç±»å‹</a></p>
<p>æœ€æ–°çš„ ECMAScript æ ‡å‡†å®šä¹‰äº† 8 ç§æ•°æ®ç±»å‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ä¸ƒç§åŸºæœ¬æ•°æ®ç±»å‹:</span><br><span class="line">- å¸ƒå°”å€¼ï¼ˆBooleanï¼‰: æœ‰2ä¸ªå€¼åˆ†åˆ«æ˜¯ï¼štrue å’Œ false.</span><br><span class="line">- null: ä¸€ä¸ªè¡¨æ˜ null å€¼çš„ç‰¹æ®Šå…³é”®å­—ã€‚(JavaScriptæ˜¯å¤§å°å†™æ•æ„Ÿçš„)</span><br><span class="line">- undefined: å’Œ null ä¸€æ ·æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å…³é”®å­—ï¼Œundefined è¡¨ç¤ºå˜é‡æœªå®šä¹‰æ—¶çš„å±æ€§ã€‚</span><br><span class="line">- æ•°å­—ï¼ˆNumberï¼‰: æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œä¾‹å¦‚ï¼š42 æˆ–è€… 3.14159ã€‚</span><br><span class="line">- å¤§æ•´æ•° (BigInt): å¯ä»¥å®‰å…¨åœ°å­˜å‚¨å’Œæ“ä½œå¤§æ•´æ•°ï¼Œç”šè‡³å¯ä»¥è¶…è¿‡æ•°å­—çš„å®‰å…¨æ•´æ•°é™åˆ¶ã€‚</span><br><span class="line">- å­—ç¬¦ä¸²ï¼ˆStringï¼‰: å­—ç¬¦ä¸²æ˜¯ä¸€ä¸²è¡¨ç¤ºæ–‡æœ¬å€¼çš„å­—ç¬¦åºåˆ—ã€‚</span><br><span class="line">- ç¬¦å·ï¼ˆSymbolï¼‰: (åœ¨ ECMAScript 6 ä¸­æ–°æ·»åŠ çš„ç±»å‹)ã€‚ä¸€ç§å®ä¾‹æ˜¯å”¯ä¸€ä¸”ä¸å¯æ”¹å˜çš„æ•°æ®ç±»å‹ã€‚</span><br><span class="line">å¯¹è±¡ï¼ˆObjectï¼‰:å¯¹è±¡æ˜¯æœ€å¤æ‚çš„æ•°æ®ç±»å‹ï¼Œåˆå¯ä»¥åˆ†æˆä¸‰ä¸ªå­ç±»å‹ã€‚</span><br><span class="line">- ç‹­ä¹‰çš„å¯¹è±¡ï¼ˆobjectï¼‰&#123;&#125;</span><br><span class="line">- æ•°ç»„ï¼ˆarrayï¼‰[]</span><br><span class="line">- å‡½æ•°ï¼ˆfunctionï¼‰</span><br><span class="line">- Date RegExp ä¸æ˜¯JavaScriptæ•°æ®ç±»å‹ã€‚</span><br></pre></td></tr></table></figure>
<p>é€šå¸¸<code>æ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼</code>è¿™ä¸‰ç§ç±»å‹ï¼Œåˆç§°ä¸ºåŸå§‹ç±»å‹ï¼ˆprimitive typeï¼‰çš„å€¼ï¼Œå³å®ƒä»¬æ˜¯æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œä¸èƒ½å†ç»†åˆ†äº†ã€‚å¯¹è±¡åˆ™ç§°ä¸ºåˆæˆç±»å‹ï¼ˆcomplex typeï¼‰çš„å€¼ï¼Œå› ä¸ºä¸€ä¸ªå¯¹è±¡å¾€å¾€æ˜¯å¤šä¸ªåŸå§‹ç±»å‹çš„å€¼çš„åˆæˆï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå­˜æ”¾å„ç§å€¼çš„å®¹å™¨ã€‚è‡³äº<code>undefined</code>å’Œ<code>null</code>ï¼Œä¸€èˆ¬å°†å®ƒä»¬çœ‹æˆä¸¤ä¸ªç‰¹æ®Šå€¼ã€‚<a href="https://wangdoc.com/javascript/types/general.html#%E7%AE%80%E4%BB%8B" target="_blank" rel="noopener">å‚è€ƒ</a>.</p>
<hr>
<p>JavaScript æœ‰ä¸‰ç§æ–¹æ³•ï¼Œå¯ä»¥ç¡®å®šä¸€ä¸ªå€¼åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹ã€‚</p>
<ul>
<li><code>typeof</code>è¿ç®—ç¬¦</li>
<li><code>instanceof</code>è¿ç®—ç¬¦</li>
<li><code>Object.prototype.toString.call</code>æ–¹æ³•, å‚æ•°ä¸ºè¦åˆ¤æ–­çš„å€¼</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="number">123</span>; <span class="comment">// "number"</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">"123"</span>; <span class="comment">// "string"</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">false</span>; <span class="comment">// "boolean"</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;; <span class="comment">// "function"</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>; <span class="comment">// "undefined"</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;&#125;; <span class="comment">// "object"</span></span><br><span class="line"><span class="keyword">typeof</span> []; <span class="comment">// "object" åœ¨JavaScriptå†…éƒ¨ï¼Œæ•°ç»„æœ¬è´¨ä¸Šåªæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>; <span class="comment">// "object"</span></span><br></pre></td></tr></table></figure>
<p><strong>2. instanceof å¦‚ä½•å®ç°çš„</strong> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof" target="_blank" rel="noopener">MDN instanceof</a></p>
<p><code>instanceof</code> è¿ç®—ç¬¦ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ <code>prototype</code> (<code>constructor.prototype</code>) å±æ€§æ˜¯å¦å‡ºç°åœ¨ç»™äºˆå¯¹è±¡å®ä¾‹çš„åŸå‹é“¾ä¸Šã€‚è¯­æ³•: å‰æ¥è¦åˆ¤æ–­çš„å¯¹è±¡å®ä¾‹, åæ¥æ„é€ å‡½æ•°.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;&#125;,</span><br><span class="line">  arr = [];</span><br><span class="line">obj <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// false</span></span><br><span class="line">obj <span class="keyword">instanceof</span> <span class="built_in">Object</span>; <span class="comment">// true</span></span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// true</span></span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Object</span>; <span class="comment">// true å› ä¸º Object.prototype.isPrototypeOf(arr) è¿”å› true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(arr); <span class="comment">// "[object Array]"</span></span><br><span class="line"><span class="built_in">Object</span>.getPrototypeOf(arr) === <span class="built_in">Array</span>.prototype; <span class="comment">// true</span></span><br><span class="line">arr.__proto__ === <span class="built_in">Array</span>.prototype; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>æœ‰ä¸€äº›å‘: <a href="https://stackoverflow.com/questions/203739/why-does-instanceof-return-false-for-some-literals" target="_blank" rel="noopener">StackOverflow</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color1 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"green"</span>);</span><br><span class="line">color1 <span class="keyword">instanceof</span> <span class="built_in">String</span>; <span class="comment">// returns true</span></span><br><span class="line"><span class="keyword">var</span> color2 = <span class="string">"coral"</span>;</span><br><span class="line">color2 <span class="keyword">instanceof</span> <span class="built_in">String</span>; <span class="comment">// returns false (color2 is not a String object)</span></span><br></pre></td></tr></table></figure>
<p><strong>3. åŸå‹é“¾</strong> MDN: <a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/Object_prototypes" target="_blank" rel="noopener">å¯¹è±¡åŸå‹</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/Inheritance" target="_blank" rel="noopener">JavaScript ä¸­çš„ç»§æ‰¿</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain" target="_blank" rel="noopener">ç»§æ‰¿ä¸åŸå‹é“¾</a> ğŸ«</p>
<p><strong>4. new</strong> <a href="https://juejin.im/post/5de4fe1d5188255e8b76e1f2#heading-4" target="_blank" rel="noopener">å‚è€ƒ: æ„é€ å‡½æ•°</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> f = <span class="keyword">new</span> Fn();</span><br><span class="line">f.__proto__ === Fn.prototype; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> Foo(<span class="string">"zhang"</span>,<span class="string">"jake"</span>);</span><br><span class="line"><span class="keyword">new</span> Foo&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">    obj.__proto__ = Foo.prototype;</span><br><span class="line">    <span class="keyword">var</span> result = Foo.call(obj,<span class="string">"zhang"</span>,<span class="string">"jake"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> result === <span class="string">'obj'</span>? result : obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‹¥æ‰§è¡Œ new Foo()ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆ›å»ºæ–°å¯¹è±¡ objï¼›</li>
<li>ç»™æ–°å¯¹è±¡çš„å†…éƒ¨å±æ€§èµ‹å€¼ï¼Œæ„é€ åŸå‹é“¾ï¼ˆå°†æ–°å¯¹è±¡çš„éšå¼åŸå‹æŒ‡å‘å…¶æ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹ï¼‰ï¼›</li>
<li>æ‰§è¡Œå‡½æ•° Fooï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­å†…éƒ¨ this æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ objï¼ˆè¿™é‡Œä½¿ç”¨äº† call æ”¹å˜ this æŒ‡å‘ï¼‰ï¼›</li>
<li>å¦‚æœ Foo å†…éƒ¨æ˜¾å¼è¿”å›å¯¹è±¡ç±»å‹æ•°æ®ï¼Œåˆ™è¿”å›è¯¥æ•°æ®ï¼›å¦åˆ™è¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡ objã€‚</li>
</ol>
<p><a href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/101" target="_blank" rel="noopener">ç®­å¤´å‡½æ•°ä¸å¯ä½¿ç”¨ new</a> ğŸ« , new çš„è¿‡ç¨‹å¤§è‡´æ˜¯:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newFunc</span>(<span class="params">father, ...rest</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = &#123;&#125;;</span><br><span class="line">  result.__proto__ = father.prototype;</span><br><span class="line">  <span class="keyword">var</span> result2 = father.apply(result, rest);</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    (<span class="keyword">typeof</span> result2 === <span class="string">"object"</span> || <span class="keyword">typeof</span> result2 === <span class="string">"function"</span>) &amp;&amp;</span><br><span class="line">    result2 !== <span class="literal">null</span> <span class="comment">// å› ä¸º typeof null === 'object', å†å²é—ç•™é—®é¢˜</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">return</span> result2;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="part4"><a href="#part4" class="headerlink" title="part4"></a>part4</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Date</span>(), i);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æœ‰å‡ æ¬¡æ‰“å°ï¼Œå€¼æ˜¯ä»€ä¹ˆï¼Ÿ</span></span><br></pre></td></tr></table></figure>
<p>ç­”: äº”æ¬¡ æ¯æ¬¡éƒ½æ˜¯ â€˜{æ—¶é—´} 5â€™, æ—¶é—´è¿˜æ˜¯ä¸€æ ·çš„.</p>
<p>åŸå› : äº”æ¬¡å¾ªç¯ååˆ†å¿«é€Ÿçš„è®¾å®šäº† 5 ä¸ª timeout, ç­‰åˆ°è¿™ 1000ms è¿‡å»å i çš„å€¼å·²ç»ä¸º 5, è€Œå› ä¸ºå¾ªç¯æ‰§è¡Œéå¸¸å¿«, ä»–ä»¬æ‰“å°çš„æ—¶é—´ä¹Ÿç›¸éš”éå¸¸å°, æ•…æ‰“å°æ—¶é—´æ˜¯ä¸€æ ·çš„.</p>
<h3 id="part5"><a href="#part5" class="headerlink" title="part5"></a>part5</h3><p><strong>1. Promise</strong> æ‰“å°å…ˆåé¡ºåº</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"script start"</span>); <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">let</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"promise1"</span>); <span class="comment">// 2</span></span><br><span class="line">  resolve();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"promise1 end"</span>); <span class="comment">// 3</span></span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"promise2"</span>); <span class="comment">// 5</span></span><br><span class="line">&#125;);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"settimeout"</span>); <span class="comment">// 6</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"script end"</span>); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<p>JS å¼•æ“çº¿ç¨‹æ˜¯åŒæ­¥çš„å•çº¿ç¨‹, å®ƒç»´æŠ¤ä¸€ä¸ªæ‰§è¡Œæ ˆ.</p>
<p>åŸå› : æ„é€  <code>Promise</code> æ—¶ä¼šç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°, <code>.then(fn)</code> ä¸ä¼šç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°, è€Œæ˜¯æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ä¸­, å¾… JS å¼•æ“çº¿ç¨‹çš„æ‰§è¡Œæ ˆä¸ºç©ºæ—¶, äº‹ä»¶è§¦å‘çº¿ç¨‹æ‰ä¼šä»æ¶ˆæ¯é˜Ÿåˆ—å–å‡ºä¸€ä¸ªä»»åŠ¡ï¼ˆå³å¼‚æ­¥çš„å›è°ƒå‡½æ•°ï¼‰æ”¾å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œ.</p>
<p>è€Œ <code>setTimeout</code> è™½ç„¶æ²¡ç»™å®šæ—¶é—´(æˆ–ç»™ 0ms), å®ƒéƒ½æ˜¯ç”±å®šæ—¶è§¦å‘å™¨çº¿ç¨‹æ‰§è¡Œ, æ—¶é—´åˆ°åæ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­, å¾…æ‰§è¡Œæ ˆç©ºé—²æ—¶æ‰ä¼šè¢«å–å‡ºè°ƒç”¨. è™½ç„¶ä»£ç çš„æœ¬æ„æ˜¯ 0 æ¯«ç§’åå°±æ¨å…¥äº‹ä»¶é˜Ÿåˆ—ï¼Œä½†æ˜¯ W3C åœ¨ HTML æ ‡å‡†ä¸­è§„å®šï¼Œè§„å®šè¦æ±‚<code>setTimeout</code>ä¸­ä½äº 4ms çš„æ—¶é—´é—´éš”ç®—ä¸º 4msã€‚</p>
<p>è€Œæœ€åä¸€è¡Œæ‰“å°æ˜¯åœ¨æ‰§è¡Œæ ˆä¸­çš„ç«‹å³æ‰§è¡Œ, æ‰§è¡Œå®Œåæ‰ç©ºé—².</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"script start"</span>); <span class="comment">// 1</span></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"timer over"</span>); <span class="comment">// 5</span></span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">Promise</span>.resolve()</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"promise1"</span>); <span class="comment">// 3</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"promise2"</span>); <span class="comment">// 4</span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"script end"</span>); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>æ‰€æœ‰ä»»åŠ¡åˆ†ä¸º <code>macrotask</code> å’Œ <code>microtask</code>:</p>
<ul>
<li><code>macrotask</code>/<code>tasks</code>ï¼š ä¸»ä»£ç å—ã€setTimeoutã€setInterval ç­‰</li>
<li><code>microtask</code>/<code>jobs</code>ï¼š Promiseã€process.nextTick ç­‰</li>
</ul>
<p>åœ¨æ‰§è¡Œå®ä»»åŠ¡æ—¶é‡åˆ°<code>Promise</code>ç­‰ï¼Œä¼šåˆ›å»ºå¾®ä»»åŠ¡ï¼ˆ<code>.then()</code>é‡Œé¢çš„å›è°ƒï¼‰ï¼Œå¹¶åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—é˜Ÿå°¾ã€‚åœ¨æŸä¸€ä¸ª<code>macrotask</code>æ‰§è¡Œå®Œåï¼Œåœ¨é‡æ–°æ¸²æŸ“ä¸å¼€å§‹ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ä¹‹å‰ï¼Œå°±ä¼šå°†åœ¨å®ƒæ‰§è¡ŒæœŸé—´äº§ç”Ÿçš„æ‰€æœ‰<code>microtask</code>éƒ½æ‰§è¡Œå®Œæ¯• (åœ¨æ¸²æŸ“å‰). <a href="https://juejin.im/post/5be5a0b96fb9a049d518febc#heading-4" target="_blank" rel="noopener">å‚è€ƒ</a> <a href="https://juejin.im/post/5a6547d0f265da3e283a1df7#heading-21" target="_blank" rel="noopener">å›¾ç‰‡å‚è€ƒ</a><br><img src="https://user-gold-cdn.xitu.io/2020/7/8/1732daa0c38626ca?w=392&amp;h=740&amp;f=png&amp;s=61349" alt></p>
<p><strong>2. äº‹ä»¶å¾ªç¯</strong> <a href="https://juejin.im/post/5be5a0b96fb9a049d518febc" target="_blank" rel="noopener">å‚è€ƒ 1</a> <a href="https://juejin.im/post/5a6547d0f265da3e283a1df7#heading-17" target="_blank" rel="noopener">å‚è€ƒ 2</a></p>
<p>æ‰§è¡Œæ ˆ, æ¶ˆæ¯é˜Ÿåˆ—/ä»»åŠ¡é˜Ÿåˆ—, äº‹ä»¶è§¦å‘çº¿ç¨‹, å®šæ—¶è§¦å‘å™¨çº¿ç¨‹â€¦</p>
<p>æ¸²æŸ“è¿›ç¨‹çš„çº¿ç¨‹: JS å¼•æ“çº¿ç¨‹, äº‹ä»¶è§¦å‘çº¿ç¨‹, å®šæ—¶è§¦å‘å™¨çº¿ç¨‹â€¦</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/7/8/1732dae325799234?w=610&amp;h=637&amp;f=png&amp;s=68501" alt></p>
<p><strong>3. Promise ä¸­çš„çŠ¶æ€</strong> pending, fulfilled, rejected.</p>
<p><strong>4. P.then().then() å¦‚ä½•æ¥ä¸Šå»çš„</strong><br>å› ä¸º <code>Promise.prototype.then</code> å’Œ <code>Promise.prototype.catch</code> æ–¹æ³•è¿”å›<code>Promise</code>å¯¹è±¡ï¼Œ æ‰€ä»¥å®ƒä»¬å¯ä»¥è¢«é“¾å¼è°ƒç”¨ã€‚<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener">MDN</a></p>
<p><img src="https://user-gold-cdn.xitu.io/2020/7/4/17317bc264a5e618?w=801&amp;h=297&amp;f=png&amp;s=26265" alt></p>
<h3 id="part6"><a href="#part6" class="headerlink" title="part6"></a>part6</h3><p><strong>é“¾è¡¨</strong>èŠ‚ç‚¹æ„é€ å‡½æ•°å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ListNode</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.val = val;</span><br><span class="line">  <span class="keyword">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å…¥: 1-&gt;2-&gt;3-&gt;NULL</span></span><br><span class="line"><span class="comment">// è¾“å‡º: 3-&gt;2-&gt;1-&gt;NULL</span></span><br></pre></td></tr></table></figure>
<p>å®ç°å•é“¾è¡¨åè½¬ <code>function reverseList(head) {}</code> è¿”å›åè½¬åçš„é“¾è¡¨å¤´èŠ‚ç‚¹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ListNode</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.val = val;</span><br><span class="line">  <span class="keyword">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> list = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line"></span><br><span class="line">list.forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  obj[item] = <span class="keyword">new</span> ListNode(index + <span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">list.forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  obj[item].next = obj[list[index + <span class="number">1</span>]] || <span class="literal">null</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;ListNode&#125; head</span></span><br><span class="line"><span class="comment"> * @return &#123;ListNode&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> reverseList = <span class="function"><span class="keyword">function</span> (<span class="params">head</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> pre = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">while</span> (head) &#123;</span><br><span class="line">    next = head.next; <span class="comment">// å½“å‰èŠ‚ç‚¹çš„nexté“¾</span></span><br><span class="line">    head.next = pre; <span class="comment">// å½“å‰èŠ‚ç‚¹ä¸‹ä¸€ä¸ªæŒ‡å‘preé“¾</span></span><br><span class="line">    pre = head; <span class="comment">// é‡æ–°æŒ‡å‘æ–°é“¾çš„å¤´</span></span><br><span class="line">    head = next; <span class="comment">// æŒ‡å›æ—§é“¾</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pre;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">reverseList(obj.a);</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure>
<h3 id="part7"><a href="#part7" class="headerlink" title="part7"></a>part7</h3><p><strong>1. å®ç°å‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">2</span>, <span class="number">3</span>)); <span class="comment">// è¾“å‡º5</span></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">2</span>)(<span class="number">3</span>)); <span class="comment">// è¾“å‡º5</span></span><br></pre></td></tr></table></figure>
<p>å®ç°ä¸­åªè€ƒè™‘é¢˜ä¸­ä¸¤ç§ä¼ å‚æ–¹å¼.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">arguments</span>[<span class="number">1</span>]) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">arguments</span>[<span class="number">0</span>] + <span class="built_in">arguments</span>[<span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> first = <span class="built_in">arguments</span>[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">tmp</span>(<span class="params">add</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> first + add;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">2</span>, <span class="number">3</span>)); <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">2</span>)(<span class="number">3</span>)); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<p><strong>2. ç®­å¤´å‡½æ•°ä¸ function çš„åŒºåˆ«, this æŒ‡å‘</strong> ğŸ«</p>
<ul>
<li><a href="https://juejin.im/post/59bfe84351882531b730bac2" target="_blank" rel="noopener">thisã€applyã€callã€bind - æ˜é‡‘</a></li>
<li><a href="https://juejin.im/post/5c979300e51d456f49110bf0#heading-1" target="_blank" rel="noopener">ES6 - ç®­å¤´å‡½æ•°ã€ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ« - æ˜é‡‘</a></li>
<li><a href="https://juejin.im/post/5de4fe1d5188255e8b76e1f2" target="_blank" rel="noopener">ã€Œå‰ç«¯æ–™åŒ…ã€ä¸€æ–‡å½»åº•ææ‡‚ JavaScript ä¸­çš„ thisã€callã€apply å’Œ bind - æ˜é‡‘</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1ã€ç®­å¤´å‡½æ•°çš„ this å§‹ç»ˆæŒ‡å‘å‡½æ•°å®šä¹‰æ—¶çš„ this. (this æ°¸è¿œæŒ‡å‘æœ€åè°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡)</span><br><span class="line">  ç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰ this ç»‘å®šï¼Œå¿…é¡»é€šè¿‡æŸ¥æ‰¾ä½œç”¨åŸŸé“¾æ¥å†³å®šå…¶å€¼ï¼Œ</span><br><span class="line">  å¦‚æœç®­å¤´å‡½æ•°è¢«éç®­å¤´å‡½æ•°åŒ…å«ï¼Œåˆ™ this ç»‘å®šçš„æ˜¯æœ€è¿‘ä¸€å±‚éç®­å¤´å‡½æ•°çš„ this</span><br><span class="line">2ã€ä¸å¯ä»¥ä½¿ç”¨ arguments å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ rest å‚æ•°ä»£æ›¿ã€‚</span><br><span class="line">3ã€ä¸å¯ä»¥ä½¿ç”¨ yield å‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚</span><br><span class="line">4ã€ä¸å¯ä»¥ä½¿ç”¨ new å‘½ä»¤ï¼Œå› ä¸ºï¼š</span><br><span class="line">  æ²¡æœ‰è‡ªå·±çš„ thisï¼Œæ— æ³•è°ƒç”¨ callï¼Œapplyã€‚</span><br><span class="line">  æ²¡æœ‰ prototype å±æ€§ ï¼Œè€Œ new å‘½ä»¤åœ¨æ‰§è¡Œæ—¶éœ€è¦å°†æ„é€ å‡½æ•°çš„ prototype èµ‹å€¼ç»™æ–°çš„å¯¹è±¡çš„ __proto__</span><br></pre></td></tr></table></figure>
<p><strong>3. webpack ä¸­, <code>loader</code>å’Œ<code>plugin</code>çš„æ‰§è¡Œæ—¶æœº</strong></p>
<p><strong>4. vue åŒå‘æ•°æ®ç»‘å®š</strong> MVVM ğŸ”¨</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">symant233</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://symant233.github.io/posts/interview01/">https://symant233.github.io/posts/interview01/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/interview/">interview</a></div><nav id="pagination"><div class="next-post pull-right"><a href="/posts/node/"><span>Node.jsç¬”è®°</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(/images/banner.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2020 By symant233</div><div class="framework-info"><span>Driven - </span><a href="https://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">This is just the beginning...</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fas fa-fire"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>